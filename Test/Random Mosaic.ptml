
init:
	;GFXM 2

	VAR x 0
	VAR y 0
	VAR x_max $SCR.COLS
	VAR y_max $SCR.ROWS
	VAR scale 1
	VAR fgc 0
	VAR bgc 0
	VAR chr 0

	ADD x x scale
	SUB x_max x_max scale
	ADD y y scale
	SUB y_max y_max scale
	
	VAR x_init x
	VAR y_init y

	CLS 0

loop:
	RND fgc 0 255
	RND bgc 0 255
	RND chr 0 255
	OUT chr x y fgc bgc 1
	INC x
	CMP x x_max
	CALL= goto_next_row
	JP loop

goto_next_row:
	SET x x_init
	INC y
	CMP y y_max
	CALL= goto_first_row
	RET

goto_first_row:
	SET x x_init
	SET y y_init
	RET
	